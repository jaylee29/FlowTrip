<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>QUEST: Travel & Lifestyle Planner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            transition: background-color 0.3s ease, color 0.2s ease, border-color 0.2s ease;
        }
        
        :root {
            /* Dark Mode (Default) */
            --neon-green: #00ff88;
            --neon-blue: #00b4d8;
            --neon-purple: #9d00ff;
            --hacker-cyan: #00ffff;
            --hacker-yellow: #ffdd00;
            --hacker-red: #ff003c;
            --bg-primary: #0a0a1a;
            --bg-secondary: #050510;
            --bg-card: rgba(10, 20, 30, 0.95);
            --text-primary: #00ff88;
            --text-secondary: #80ffaa;
            --border-color: rgba(0, 255, 136, 0.3);
            --glow: 0 0 10px currentColor;
            --header-bg: rgba(5, 5, 15, 0.95);
        }
        
        /* Light Mode */
        body.light-mode {
            --neon-green: #00a86b;
            --neon-blue: #0066cc;
            --neon-purple: #6f2da8;
            --hacker-cyan: #0099cc;
            --hacker-yellow: #cc7b00;
            --hacker-red: #cc2900;
            --bg-primary: #f5f5f7;
            --bg-secondary: #ffffff;
            --bg-card: rgba(255, 255, 255, 0.95);
            --text-primary: #1a2634;
            --text-secondary: #2c3e50;
            --border-color: rgba(0, 168, 107, 0.3);
            --glow: 0 0 10px rgba(0,0,0,0.1);
            --header-bg: rgba(255, 255, 255, 0.95);
        }
        
        body {
            background: var(--bg-secondary);
            color: var(--text-primary);
            min-height: 100vh;
            padding-bottom: 80px;
            overflow-x: hidden;
            position: relative;
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* Mobile First Approach */
        .container {
            width: 100%;
            padding: 10px;
            margin: 0 auto;
            max-width: 100%;
        }
        
        @media (min-width: 768px) {
            .container {
                max-width: 750px;
                padding: 15px;
            }
        }
        
        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            padding: 4px;
            display: flex;
            gap: 4px;
            backdrop-filter: blur(10px);
            box-shadow: var(--glow);
        }
        
        .theme-toggle i {
            padding: 8px 10px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .theme-toggle i.active {
            background: var(--neon-green);
            color: var(--bg-secondary);
        }
        
        /* Header */
        header {
            text-align: center;
            margin-bottom: 15px;
            padding: 15px 10px;
            background: var(--header-bg);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }
        
        header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            background: linear-gradient(to right, var(--neon-green), var(--hacker-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        header p {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        /* Content Sections */
        .content {
            display: none;
            background: var(--bg-card);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .content h2 {
            color: var(--neon-green);
            margin-bottom: 15px;
            font-size: 1.3rem;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--neon-green);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Form Elements - Mobile Optimized */
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: var(--hacker-cyan);
            font-weight: 600;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 16px; /* Prevents zoom on mobile */
            background: var(--bg-secondary);
            color: var(--text-primary);
            -webkit-appearance: none;
            appearance: none;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--neon-green);
            box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--neon-green), var(--neon-blue));
            color: var(--bg-secondary);
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--glow);
            -webkit-tap-highlight-color: transparent;
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        /* Quest Cards */
        .quest-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .quest-container {
                flex-direction: row;
            }
            
            .active-quests {
                flex: 2;
            }
            
            .completed-quests {
                flex: 1;
            }
        }
        
        .quest-category {
            margin-bottom: 20px;
        }
        
        .quest-category h3 {
            color: var(--hacker-cyan);
            margin-bottom: 10px;
            font-size: 1rem;
            padding-left: 8px;
            border-left: 3px solid var(--neon-green);
        }
        
        .quest-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            border: 1px solid var(--border-color);
            position: relative;
        }
        
        .quest-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .quest-name {
            font-weight: bold;
            color: var(--hacker-cyan);
            font-size: 1rem;
        }
        
        .quest-difficulty {
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: bold;
            white-space: nowrap;
        }
        
        .difficulty-e { background: #27ae60; color: white; }
        .difficulty-n { background: #2980b9; color: white; }
        .difficulty-h { background: #e67e22; color: white; }
        .difficulty-epic { background: #8e44ad; color: white; }
        .difficulty-legendary { background: #f1c40f; color: black; }
        
        .quest-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        /* Progress Bar */
        .progress-container {
            margin: 12px 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--neon-green), var(--neon-blue));
            transition: width 0.3s ease;
            border-radius: 4px;
        }
        
        .progress-text {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-align: right;
        }
        
        .quest-reward {
            margin-top: 10px;
            padding: 8px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            border: 1px solid gold;
            color: gold;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Certificate Items */
        .certificate-item {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            cursor: pointer;
        }
        
        .certificate-item:active {
            transform: scale(0.98);
        }
        
        .certificate-title {
            font-weight: bold;
            color: var(--hacker-cyan);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .certificate-meta {
            font-size: 0.7rem;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
        }
        
        /* Certificate Modal */
        .certificate-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 15px;
        }
        
        .certificate-modal.active {
            display: flex;
        }
        
        .certificate {
            background: #f9f9f9;
            color: #333;
            padding: 20px;
            border-radius: 15px;
            max-width: 100%;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 0 50px gold;
        }
        
        @media (min-width: 768px) {
            .certificate {
                max-width: 700px;
                padding: 30px;
            }
        }
        
        .certificate.bronze { border: 8px solid #cd7f32; }
        .certificate.silver { border: 8px solid #c0c0c0; }
        .certificate.gold { border: 8px solid #ffd700; }
        .certificate.platinum { border: 8px solid #e5e4e2; }
        .certificate.diamond { border: 8px solid #b9f2ff; }
        
        .certificate-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .certificate-header h1 {
            font-size: 1.5rem;
            color: #8b4513;
            margin-bottom: 5px;
        }
        
        .certificate-header h2 {
            font-size: 1.3rem;
            font-family: 'Brush Script MT', cursive;
            color: #d4af37;
        }
        
        .certificate-body {
            text-align: center;
            margin: 20px 0;
        }
        
        .certificate-name {
            font-family: 'Brush Script MT', cursive;
            font-size: 2rem;
            color: #000;
            margin: 15px 0;
            word-break: break-word;
        }
        
        .certificate-details {
            margin: 15px 0;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .certificate-footer {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px dashed #333;
        }
        
        @media (min-width: 480px) {
            .certificate-footer {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }
        
        .certificate-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 20px;
        }
        
        @media (min-width: 480px) {
            .certificate-actions {
                flex-direction: row;
            }
        }
        
        .certificate-actions button {
            padding: 12px;
            font-size: 0.9rem;
        }
        
        /* Item Lists */
        .item-list {
            margin-top: 15px;
        }
        
        .item {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 4px solid var(--neon-green);
            position: relative;
        }
        
        .item.high-priority { border-left-color: var(--hacker-red); }
        .item.medium-priority { border-left-color: var(--hacker-yellow); }
        .item.low-priority { border-left-color: var(--neon-green); }
        
        .item h3 {
            font-size: 1rem;
            margin-bottom: 5px;
            color: var(--hacker-cyan);
            padding-right: 60px;
        }
        
        .item p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .item .meta {
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        @media (min-width: 480px) {
            .item .meta {
                flex-direction: row;
                justify-content: space-between;
            }
        }
        
        .delete-btn {
            background: var(--hacker-red);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            cursor: pointer;
            width: auto;
            display: inline-block;
            margin-right: 5px;
        }
        
        .delete-btn:active {
            transform: scale(0.95);
        }
        
        /* Tourist Spots */
        .region-selector {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
            margin: 15px 0;
        }
        
        .region-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 5px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            width: 100%;
        }
        
        .region-btn.active {
            background: var(--neon-green);
            color: var(--bg-secondary);
        }
        
        .spot-card {
            background: var(--bg-secondary);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            border: 1px solid var(--border-color);
        }
        
        .spot-image {
            height: 150px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .spot-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            padding: 12px;
            color: white;
        }
        
        .spot-title {
            font-size: 1rem;
            margin-bottom: 4px;
        }
        
        .spot-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
        }
        
        .spot-content {
            padding: 12px;
        }
        
        .spot-description {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .spot-details {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin: 10px 0;
        }
        
        .spot-tag {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.7rem;
        }
        
        .spot-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 12px;
        }
        
        @media (min-width: 480px) {
            .spot-actions {
                flex-direction: row;
            }
        }
        
        .add-to-plan-btn, .view-more-btn {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            text-align: center;
        }
        
        .add-to-plan-btn {
            background: linear-gradient(135deg, var(--neon-purple), var(--neon-blue));
            color: white;
            border: none;
        }
        
        .view-more-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--neon-green);
            color: var(--neon-green);
        }
        
        /* Calendar */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 3px;
            margin-top: 15px;
        }
        
        .calendar-day {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 8px 3px;
            text-align: center;
            font-size: 0.75rem;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .calendar-day.active {
            background: var(--neon-green);
            color: var(--bg-secondary);
            font-weight: bold;
        }
        
        .calendar-day.has-event:after {
            content: '‚Ä¢';
            margin-left: 2px;
            color: var(--neon-green);
        }
        
        /* Budget */
        .budget-category {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 4px solid var(--neon-blue);
        }
        
        .budget-total {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, var(--neon-green), var(--neon-blue));
            color: var(--bg-secondary);
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 15px;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 30px 15px;
            color: var(--text-secondary);
        }
        
        .empty-state i {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--neon-green);
        }
        
        .empty-state p {
            font-size: 0.9rem;
        }
        
        /* Mood Selector */
        .mood-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 5px;
            margin: 10px 0;
        }
        
        .mood-option {
            text-align: center;
            padding: 10px 5px;
            border-radius: 8px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            font-size: 0.75rem;
        }
        
        .mood-option.active {
            background: var(--neon-green);
            color: var(--bg-secondary);
        }
        
        /* Bottom Navigation - Mobile First */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 5px;
            z-index: 1000;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .bottom-nav::-webkit-scrollbar {
            display: none;
        }
        
        .nav-btn {
            flex: 0 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px 12px;
            border-radius: 10px;
            color: var(--text-secondary);
            background: transparent;
            border: none;
            font-size: 0.7rem;
            min-width: 60px;
            -webkit-tap-highlight-color: transparent;
        }
        
        .nav-btn i {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }
        
        .nav-btn span {
            font-size: 0.6rem;
            white-space: nowrap;
        }
        
        .nav-btn.active {
            color: var(--neon-green);
            background: rgba(0, 255, 136, 0.1);
        }
        
        .nav-btn:active {
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* Quest Notification */
        .quest-notification {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            background: linear-gradient(135deg, var(--neon-green), var(--neon-blue));
            color: var(--bg-secondary);
            padding: 15px;
            border-radius: 10px;
            z-index: 2001;
            animation: slideDown 0.3s ease;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        /* Profile */
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 15px;
            overflow: hidden;
            border: 3px solid var(--neon-green);
        }
        
        .preferences-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 10px;
        }
        
        .preferences-grid label {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
        }
        
        /* Packing Templates */
        .packing-template {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            border: 1px solid var(--border-color);
        }
        
        .packing-template:active {
            transform: scale(0.98);
        }
        
        /* Currency Converter */
        .converter-container {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .currency-row {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        @media (min-width: 480px) {
            .currency-row {
                flex-direction: row;
            }
            
            .currency-row select {
                width: 120px;
            }
        }
        
        .currency-result {
            text-align: center;
            padding: 15px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            margin-top: 10px;
            font-size: 1rem;
            word-break: break-word;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 20px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--neon-green);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 15px;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -17px;
            top: 5px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--neon-green);
        }
        
        .timeline-date {
            font-weight: bold;
            color: var(--hacker-cyan);
            margin-bottom: 5px;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle" id="themeToggle">
        <i class="fas fa-sun active" id="lightModeIcon"></i>
        <i class="fas fa-moon" id="darkModeIcon"></i>
    </div>
    
    <!-- Quest Notification -->
    <div class="quest-notification" id="questNotification" style="display: none;"></div>
    
    <!-- Certificate Modal -->
    <div class="certificate-modal" id="certificateModal">
        <div class="certificate" id="certificateDisplay"></div>
    </div>
    
    <div class="container">
        <header>
            <h1>QUEST: TRAVEL PLANNER</h1>
            <p>> EMBARK ON YOUR JOURNEY <</p>
        </header>
        
        <!-- Quests Tab -->
        <div class="content active" id="quests">
            <h2><i class="fas fa-scroll"></i> ACTIVE QUESTS</h2>
            
            <div class="quest-container">
                <div class="active-quests">
                    <div class="quest-category">
                        <h3>üìÖ DAILY QUESTS</h3>
                        <div id="dailyQuests"></div>
                    </div>
                    
                    <div class="quest-category">
                        <h3>üìÜ WEEKLY QUESTS</h3>
                        <div id="weeklyQuests"></div>
                    </div>
                    
                    <div class="quest-category">
                        <h3>üó∫Ô∏è LOCATION QUESTS</h3>
                        <div id="locationQuests"></div>
                    </div>
                    
                    <div class="quest-category">
                        <h3>üèÜ LIFETIME CHALLENGES</h3>
                        <div id="lifetimeQuests"></div>
                    </div>
                </div>
                
                <div class="completed-quests">
                    <h3><i class="fas fa-check-circle"></i> COMPLETED</h3>
                    <div id="completedQuests"></div>
                    
                    <h3 style="margin-top: 20px;"><i class="fas fa-certificate"></i> GALLERY</h3>
                    <div id="certificateGallery"></div>
                </div>
            </div>
        </div>
        
        <!-- Schedules Tab -->
        <div class="content" id="schedules">
            <h2><i class="fas fa-calendar-alt"></i> SCHEDULES</h2>
            <form id="schedule-form">
                <div class="form-group">
                    <label>ACTIVITY</label>
                    <input type="text" id="schedule-title" placeholder="e.g., Island Hopping" required>
                </div>
                <div class="form-group">
                    <label>DATE</label>
                    <input type="date" id="schedule-date" required>
                </div>
                <div class="form-group">
                    <label>TIME</label>
                    <input type="time" id="schedule-time" required>
                </div>
                <div class="form-group">
                    <label>DURATION (MIN)</label>
                    <input type="number" id="schedule-duration" placeholder="60" required>
                </div>
                <div class="form-group">
                    <label>LOCATION</label>
                    <input type="text" id="schedule-location" placeholder="e.g., Boracay">
                </div>
                <div class="form-group">
                    <label>PRIORITY</label>
                    <select id="schedule-priority">
                        <option value="low">LOW</option>
                        <option value="medium" selected>MEDIUM</option>
                        <option value="high">HIGH</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>NOTES</label>
                    <textarea id="schedule-notes" placeholder="Additional details..."></textarea>
                </div>
                <button type="submit">ADD SCHEDULE</button>
            </form>
            <div class="item-list" id="schedules-list"></div>
        </div>
        
        <!-- Goals Tab -->
        <div class="content" id="goals">
            <h2><i class="fas fa-bullseye"></i> GOALS</h2>
            <form id="goal-form">
                <div class="form-group">
                    <label>GOAL</label>
                    <input type="text" id="goal-title" placeholder="e.g., Visit Japan" required>
                </div>
                <div class="form-group">
                    <label>CATEGORY</label>
                    <select id="goal-category">
                        <option value="travel">TRAVEL</option>
                        <option value="health">HEALTH</option>
                        <option value="career">CAREER</option>
                        <option value="personal">PERSONAL</option>
                        <option value="financial">FINANCIAL</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>TARGET DATE</label>
                    <input type="date" id="goal-deadline" required>
                </div>
                <div class="form-group">
                    <label>PRIORITY</label>
                    <select id="goal-priority">
                        <option value="low">LOW</option>
                        <option value="medium" selected>MEDIUM</option>
                        <option value="high">HIGH</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>LOCATION</label>
                    <input type="text" id="goal-location" placeholder="e.g., Paris">
                </div>
                <div class="form-group">
                    <label>ACTION PLAN</label>
                    <textarea id="goal-notes" placeholder="Steps to achieve this goal..."></textarea>
                </div>
                <button type="submit">ADD GOAL</button>
            </form>
            <div class="item-list" id="goals-list"></div>
        </div>
        
        <!-- Timeline Tab -->
        <div class="content" id="timeline">
            <h2><i class="fas fa-stream"></i> TIMELINE</h2>
            <div class="timeline" id="timeline-list"></div>
        </div>
        
        <!-- Calendar Tab -->
        <div class="content" id="calendar">
            <h2><i class="fas fa-calendar"></i> CALENDAR</h2>
            <div class="calendar" id="calendar-view"></div>
        </div>
        
        <!-- Packing Tab -->
        <div class="content" id="packing">
            <h2><i class="fas fa-suitcase"></i> PACKING</h2>
            
            <div class="form-group">
                <label>TEMPLATES</label>
                <div id="packing-templates"></div>
            </div>
            
            <form id="packing-form">
                <div class="form-group">
                    <label>ITEM</label>
                    <input type="text" id="packing-item" placeholder="e.g., Passport" required>
                </div>
                <div class="form-group">
                    <label>CATEGORY</label>
                    <select id="packing-category">
                        <option value="essentials">ESSENTIALS</option>
                        <option value="clothing">CLOTHING</option>
                        <option value="electronics">ELECTRONICS</option>
                        <option value="toiletries">TOILETRIES</option>
                        <option value="documents">DOCUMENTS</option>
                        <option value="other">OTHER</option>
                    </select>
                </div>
                <button type="submit">ADD ITEM</button>
            </form>
            
            <div class="item-list" id="packing-list"></div>
        </div>
        
        <!-- Journal Tab -->
        <div class="content" id="journal">
            <h2><i class="fas fa-book"></i> JOURNAL</h2>
            <form id="journal-form">
                <div class="form-group">
                    <label>DATE</label>
                    <input type="date" id="journal-date" required>
                </div>
                <div class="form-group">
                    <label>TITLE</label>
                    <input type="text" id="journal-title" placeholder="e.g., Amazing Day" required>
                </div>
                <div class="form-group">
                    <label>MOOD</label>
                    <div class="mood-selector">
                        <div class="mood-option" data-mood="happy">üòä HAPPY</div>
                        <div class="mood-option active" data-mood="neutral">üòê NEUTRAL</div>
                        <div class="mood-option" data-mood="sad">üòî SAD</div>
                        <div class="mood-option" data-mood="excited">ü§© EXCITED</div>
                        <div class="mood-option" data-mood="tired">üò¥ TIRED</div>
                    </div>
                    <input type="hidden" id="journal-mood" value="neutral">
                </div>
                <div class="form-group">
                    <label>ENTRY</label>
                    <textarea id="journal-entry" placeholder="What happened today?..." required></textarea>
                </div>
                <button type="submit">SAVE ENTRY</button>
            </form>
            <div class="item-list" id="journal-list"></div>
        </div>
        
        <!-- Tourist Spots Tab -->
        <div class="content" id="tourist-spots">
            <h2><i class="fas fa-map-marked-alt"></i> PHILIPPINE SPOTS</h2>
            
            <div class="form-group">
                <label>SEARCH</label>
                <input type="text" id="spot-search" placeholder="Search destination...">
            </div>
            
            <div class="region-selector" id="region-filter">
                <button class="region-btn active" data-region="all">ALL</button>
                <button class="region-btn" data-region="top">TOP</button>
                <button class="region-btn" data-region="luzon">LUZON</button>
                <button class="region-btn" data-region="visayas">VISAYAS</button>
                <button class="region-btn" data-region="mindanao">MINDANAO</button>
                <button class="region-btn" data-region="beach">BEACH</button>
                <button class="region-btn" data-region="mountain">MOUNTAIN</button>
                <button class="region-btn" data-region="historical">HISTORICAL</button>
            </div>
            
            <div id="tourist-spots-list"></div>
        </div>
        
        <!-- Budget Tab -->
        <div class="content" id="budget">
            <h2><i class="fas fa-coins"></i> BUDGET</h2>
            
            <div class="converter-container">
                <h3 style="color: var(--hacker-cyan); margin-bottom: 10px;">CURRENCY CONVERTER</h3>
                <div class="currency-row">
                    <input type="number" id="amount-input" placeholder="Amount" value="1000">
                    <select id="from-currency">
                        <option value="PHP">PHP</option>
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="JPY">JPY</option>
                        <option value="KRW">KRW</option>
                    </select>
                </div>
                
                <div style="text-align: center; margin: 10px;">
                    <i class="fas fa-exchange-alt" style="color: var(--neon-green);"></i>
                </div>
                
                <div class="currency-row">
                    <input type="text" id="converted-amount" placeholder="Converted" readonly>
                    <select id="to-currency">
                        <option value="PHP">PHP</option>
                        <option value="USD" selected>USD</option>
                        <option value="EUR">EUR</option>
                        <option value="JPY">JPY</option>
                        <option value="KRW">KRW</option>
                    </select>
                </div>
                
                <div class="currency-result" id="conversion-result">
                    Enter amount to convert
                </div>
                
                <button onclick="convertCurrency()" style="margin-top: 10px;">CONVERT</button>
            </div>
            
            <h3 style="color: var(--hacker-cyan); margin: 15px 0;">BUDGET TRACKER</h3>
            <form id="budget-form">
                <div class="form-group">
                    <label>CATEGORY</label>
                    <select id="budget-category">
                        <option value="accommodation">üè® ACCOMMODATION</option>
                        <option value="food">üçî FOOD</option>
                        <option value="transportation">üöó TRANSPORT</option>
                        <option value="activities">üé≠ ACTIVITIES</option>
                        <option value="shopping">üõçÔ∏è SHOPPING</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>AMOUNT (PHP)</label>
                    <input type="number" id="budget-amount" placeholder="0" required>
                </div>
                <div class="form-group">
                    <label>NOTES</label>
                    <input type="text" id="budget-notes" placeholder="e.g., Hotel">
                </div>
                <button type="submit">ADD EXPENSE</button>
            </form>
            
            <div class="item-list" id="budget-list"></div>
            <div class="budget-total" id="budget-total">TOTAL: ‚Ç±0.00</div>
        </div>
        
        <!-- Profile Tab -->
        <div class="content" id="profile">
            <h2><i class="fas fa-user"></i> PROFILE</h2>
            
            <div style="text-align: center; margin-bottom: 20px;">
                <div class="profile-avatar" id="profile-avatar" style="display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, var(--neon-green), var(--neon-blue));">
                    <span id="avatar-text" style="font-size: 2.5rem;">üë§</span>
                </div>
                <h3 id="profile-name-display" style="color: var(--hacker-cyan); margin: 5px 0;">TRAVELER</h3>
                <p id="profile-title-display" style="color: var(--text-secondary);">Adventure Seeker</p>
            </div>
            
            <form id="profile-form">
                <div class="form-group">
                    <label>NAME</label>
                    <input type="text" id="profile-name" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label>USERNAME</label>
                    <input type="text" id="profile-username" placeholder="username">
                </div>
                <div class="form-group">
                    <label>BIRTHDAY</label>
                    <input type="date" id="profile-birthday">
                </div>
                <div class="form-group">
                    <label>EMAIL</label>
                    <input type="email" id="profile-email" placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label>LOCATION</label>
                    <input type="text" id="profile-location" placeholder="e.g., Manila">
                </div>
                <div class="form-group">
                    <label>TRAVEL TITLE</label>
                    <select id="profile-title">
                        <option value="Adventure Seeker">Adventure Seeker</option>
                        <option value="Budget Explorer">Budget Explorer</option>
                        <option value="Luxury Traveler">Luxury Traveler</option>
                        <option value="Cultural Enthusiast">Cultural Enthusiast</option>
                        <option value="Foodie">Foodie</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>BIO</label>
                    <textarea id="profile-bio" placeholder="Tell us about yourself..." rows="3"></textarea>
                </div>
                <button type="submit">SAVE PROFILE</button>
            </form>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-btn active" data-tab="quests"><i class="fas fa-scroll"></i><span>QUESTS</span></button>
        <button class="nav-btn" data-tab="schedules"><i class="fas fa-calendar-alt"></i><span>SCHED</span></button>
        <button class="nav-btn" data-tab="goals"><i class="fas fa-bullseye"></i><span>GOALS</span></button>
        <button class="nav-btn" data-tab="timeline"><i class="fas fa-stream"></i><span>TIMELINE</span></button>
        <button class="nav-btn" data-tab="calendar"><i class="fas fa-calendar"></i><span>CAL</span></button>
        <button class="nav-btn" data-tab="packing"><i class="fas fa-suitcase"></i><span>PACK</span></button>
        <button class="nav-btn" data-tab="journal"><i class="fas fa-book"></i><span>JOURNAL</span></button>
        <button class="nav-btn" data-tab="tourist-spots"><i class="fas fa-map-marked-alt"></i><span>SPOTS</span></button>
        <button class="nav-btn" data-tab="budget"><i class="fas fa-coins"></i><span>BUDGET</span></button>
        <button class="nav-btn" data-tab="profile"><i class="fas fa-user"></i><span>PROFILE</span></button>
    </div>

    <script>
        // Complete JavaScript code with all features
        (function() {
            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const lightIcon = document.getElementById('lightModeIcon');
            const darkIcon = document.getElementById('darkModeIcon');
            
            themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('light-mode');
                lightIcon.classList.toggle('active');
                darkIcon.classList.toggle('active');
                localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
            });
            
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-mode');
                lightIcon.classList.add('active');
                darkIcon.classList.remove('active');
            }

            // Database
            const DB = {
                init: function() {
                    const defaults = {
                        schedules: [],
                        goals: [],
                        packing: [],
                        journal: [],
                        budget: [],
                        profile: { name: 'Traveler', username: 'explorer', title: 'Adventure Seeker' },
                        questProgress: {},
                        completedQuests: [],
                        certificates: []
                    };
                    
                    Object.keys(defaults).forEach(key => {
                        if (!localStorage.getItem(key)) {
                            localStorage.setItem(key, JSON.stringify(defaults[key]));
                        }
                    });
                },
                
                get: function(key) { return JSON.parse(localStorage.getItem(key)) || []; },
                set: function(key, value) { localStorage.setItem(key, JSON.stringify(value)); },
                
                getSchedules: function() { return this.get('schedules'); },
                saveSchedule: function(schedule) {
                    const schedules = this.getSchedules();
                    schedule.id = Date.now().toString();
                    schedules.push(schedule);
                    this.set('schedules', schedules);
                },
                deleteSchedule: function(id) {
                    this.set('schedules', this.getSchedules().filter(s => s.id !== id));
                },
                
                getGoals: function() { return this.get('goals'); },
                saveGoal: function(goal) {
                    const goals = this.getGoals();
                    goal.id = Date.now().toString();
                    goal.completed = false;
                    goals.push(goal);
                    this.set('goals', goals);
                },
                deleteGoal: function(id) {
                    this.set('goals', this.getGoals().filter(g => g.id !== id));
                },
                toggleGoal: function(id) {
                    const goals = this.getGoals();
                    const goal = goals.find(g => g.id === id);
                    if (goal) {
                        goal.completed = !goal.completed;
                        this.set('goals', goals);
                    }
                },
                
                getPacking: function() { return this.get('packing'); },
                savePacking: function(item) {
                    const packing = this.getPacking();
                    item.id = Date.now().toString();
                    item.checked = false;
                    packing.push(item);
                    this.set('packing', packing);
                },
                deletePacking: function(id) {
                    this.set('packing', this.getPacking().filter(i => i.id !== id));
                },
                togglePacking: function(id) {
                    const packing = this.getPacking();
                    const item = packing.find(i => i.id === id);
                    if (item) {
                        item.checked = !item.checked;
                        this.set('packing', packing);
                    }
                },
                
                getJournal: function() { return this.get('journal'); },
                saveJournal: function(entry) {
                    const journal = this.getJournal();
                    entry.id = Date.now().toString();
                    journal.push(entry);
                    this.set('journal', journal);
                },
                deleteJournal: function(id) {
                    this.set('journal', this.getJournal().filter(e => e.id !== id));
                },
                
                getBudget: function() { return this.get('budget'); },
                saveBudget: function(item) {
                    const budget = this.getBudget();
                    item.id = Date.now().toString();
                    budget.push(item);
                    this.set('budget', budget);
                },
                deleteBudget: function(id) {
                    this.set('budget', this.getBudget().filter(i => i.id !== id));
                },
                
                getProfile: function() { return this.get('profile'); },
                saveProfile: function(profile) {
                    this.set('profile', profile);
                }
            };

            // Quest Data
            const QUESTS = {
                daily: [
                    {
                        id: 'daily1',
                        name: 'Daily Planner',
                        description: 'Add 3 schedules for today',
                        requirement: 3,
                        type: 'daily',
                        difficulty: 'E',
                        reward: 'Daily Planner Certificate',
                        tier: 'bronze',
                        checkProgress: () => {
                            const today = new Date().toISOString().split('T')[0];
                            return DB.getSchedules().filter(s => s.date === today).length;
                        }
                    },
                    {
                        id: 'daily2',
                        name: 'Journal Keeper',
                        description: 'Write a journal entry today',
                        requirement: 1,
                        type: 'daily',
                        difficulty: 'E',
                        reward: 'Daily Chronicler Certificate',
                        tier: 'bronze',
                        checkProgress: () => {
                            const today = new Date().toISOString().split('T')[0];
                            return DB.getJournal().filter(j => j.date === today).length;
                        }
                    }
                ],
                
                weekly: [
                    {
                        id: 'weekly1',
                        name: 'Week Warrior',
                        description: 'Complete 5 schedules in a week',
                        requirement: 5,
                        type: 'weekly',
                        difficulty: 'N',
                        reward: 'Weekly Warrior Certificate',
                        tier: 'silver',
                        checkProgress: () => {
                            const weekAgo = new Date();
                            weekAgo.setDate(weekAgo.getDate() - 7);
                            return DB.getSchedules().filter(s => new Date(s.date) >= weekAgo).length;
                        }
                    }
                ],
                
                location: [
                    {
                        id: 'loc1',
                        name: 'ISLAND HOPPER',
                        description: 'Visit 3 beach destinations',
                        requirement: 3,
                        type: 'location',
                        difficulty: 'H',
                        reward: 'Beach Hopper Certificate',
                        tier: 'gold',
                        checkProgress: () => {
                            const goals = DB.getGoals();
                            const beachSpots = ['Boracay', 'El Nido', 'Siargao', 'Palawan'];
                            return goals.filter(g => g.completed && beachSpots.some(spot => g.location?.includes(spot))).length;
                        }
                    },
                    {
                        id: 'loc2',
                        name: 'LUZON EXPLORER',
                        description: 'Visit 3 Luzon destinations',
                        requirement: 3,
                        type: 'location',
                        difficulty: 'H',
                        reward: 'Northern Lights Certificate',
                        tier: 'gold',
                        checkProgress: () => {
                            const goals = DB.getGoals();
                            const luzonSpots = ['Banaue', 'Vigan', 'Mayon', 'Intramuros', 'Taal'];
                            return goals.filter(g => g.completed && luzonSpots.some(spot => g.location?.includes(spot))).length;
                        }
                    },
                    {
                        id: 'loc3',
                        name: 'VISAYAS CONQUEROR',
                        description: 'Visit Boracay, Chocolate Hills, and Kawasan',
                        requirement: 3,
                        type: 'location',
                        difficulty: 'H',
                        reward: 'Queen of the South Certificate',
                        tier: 'gold',
                        checkProgress: () => {
                            const goals = DB.getGoals();
                            const visayasSpots = ['Boracay', 'Chocolate Hills', 'Kawasan'];
                            return goals.filter(g => g.completed && visayasSpots.some(spot => g.location?.includes(spot))).length;
                        }
                    },
                    {
                        id: 'loc4',
                        name: 'MINDANAO PIONEER',
                        description: 'Visit 3 Mindanao destinations',
                        requirement: 3,
                        type: 'location',
                        difficulty: 'H',
                        reward: 'Land of Promise Certificate',
                        tier: 'gold',
                        checkProgress: () => {
                            const goals = DB.getGoals();
                            const mindanaoSpots = ['Siargao', 'Enchanted River', 'Davao'];
                            return goals.filter(g => g.completed && mindanaoSpots.some(spot => g.location?.includes(spot))).length;
                        }
                    }
                ],
                
                lifetime: [
                    {
                        id: 'life1',
                        name: 'FULL CIRCLE',
                        description: 'Visit Luzon, Visayas, and Mindanao',
                        requirement: 3,
                        type: 'lifetime',
                        difficulty: 'Epic',
                        reward: 'Archipelago Master Certificate',
                        tier: 'platinum',
                        checkProgress: () => {
                            const goals = DB.getGoals();
                            const regions = {
                                luzon: goals.some(g => g.completed && ['Banaue','Vigan','Mayon','Intramuros','Taal'].some(s => g.location?.includes(s))),
                                visayas: goals.some(g => g.completed && ['Boracay','Chocolate Hills','Kawasan'].some(s => g.location?.includes(s))),
                                mindanao: goals.some(g => g.completed && ['Siargao','Enchanted River','Davao'].some(s => g.location?.includes(s)))
                            };
                            return Object.values(regions).filter(Boolean).length;
                        }
                    }
                ]
            };

            // Tourist Spots Data
            const TOURIST_SPOTS = [
                {
                    id: 'spot1', name: 'Boracay Island', region: 'visayas', category: ['beach', 'top'],
                    location: 'Aklan', description: 'World-famous white sand beach',
                    image: 'https://tse3.mm.bing.net/th/id/OIP.xPiWSlAMHHUjZRikNS-UMQHaE7?pid=Api&P=0&w=300&h=300',
                    rating: 4.8, bestTime: 'Nov-Apr'
                },
                {
                    id: 'spot2', name: 'Chocolate Hills', region: 'visayas', category: ['mountain', 'unique'],
                    location: 'Bohol', description: '1,260 geological formations',
                    image: 'https://tse1.mm.bing.net/th/id/OIP.vwvOIcKzaCfEy2kY4aZcBwHaEr?pid=Api&P=0&w=300&h=300',
                    rating: 4.7, bestTime: 'Mar-May'
                },
                {
                    id: 'spot3', name: 'Banaue Rice Terraces', region: 'luzon', category: ['mountain', 'historical', 'top'],
                    location: 'Ifugao', description: '2,000-year-old rice terraces',
                    image: 'https://tse2.mm.bing.net/th/id/OIP.mnY5dSJ08avfmzTI10q5IAHaFj?pid=Api&P=0&w=300&h=300',
                    rating: 4.6, bestTime: 'Feb-Apr'
                },
                {
                    id: 'spot4', name: 'Mayon Volcano', region: 'luzon', category: ['mountain', 'top'],
                    location: 'Albay', description: 'Perfect cone volcano',
                    image: 'https://tse2.mm.bing.net/th/id/OIF.AX9mrgdGSeopWpEBbhUhUw?pid=Api&P=0&w=300&h=300',
                    rating: 4.7, bestTime: 'Mar-May'
                },
                {
                    id: 'spot5', name: 'Intramuros', region: 'luzon', category: ['historical', 'top'],
                    location: 'Manila', description: 'Walled Spanish colonial city',
                    image: 'https://images.summitmedia-digital.com/spotph/images/2023/06/20/fort-santiago-1687247428.jpg',
                    rating: 4.4, bestTime: 'Nov-Feb'
                },
                {
                    id: 'spot6', name: 'El Nido', region: 'luzon', category: ['beach', 'top'],
                    location: 'Palawan', description: 'Limestone cliffs and lagoons',
                    image: 'https://tse4.mm.bing.net/th/id/OIP.wpOsr39NyFHgslvHVyOhwwHaE7?pid=Api&P=0&w=300&h=300',
                    rating: 4.9, bestTime: 'Nov-May'
                },
                {
                    id: 'spot7', name: 'Siargao', region: 'mindanao', category: ['beach', 'top'],
                    location: 'Surigao del Norte', description: 'Surfing capital',
                    image: 'https://tse3.mm.bing.net/th/id/OIP.4yog3txDF6F49Si_4Q-lHAHaFj?pid=Api&P=0&w=300&h=300',
                    rating: 4.7, bestTime: 'Mar-Oct'
                },
                {
                    id: 'spot8', name: 'Kawasan Falls', region: 'visayas', category: ['mountain'],
                    location: 'Cebu', description: 'Multi-tier waterfall',
                    image: 'https://tse4.mm.bing.net/th/id/OIP.8YBa1zcFlR0O3HMQbmDlswHaE0?pid=Api&P=0&w=300&h=300',
                    rating: 4.6, bestTime: 'Dec-May'
                }
            ];

            // Currency Rates
            const EXCHANGE_RATES = { PHP: 1, USD: 56.50, EUR: 61.20, JPY: 0.38, KRW: 0.042 };

            // Packing Templates
            const PACKING_TEMPLATES = [
                { name: 'üèñÔ∏è Beach Trip', items: ['Swimsuit', 'Sunscreen', 'Sunglasses', 'Flip flops', 'Beach towel'] },
                { name: '‚õ∞Ô∏è Mountain Hike', items: ['Hiking boots', 'Backpack', 'Water bottle', 'First aid', 'Rain jacket'] },
                { name: 'üèôÔ∏è City Tour', items: ['Comfortable shoes', 'Camera', 'Power bank', 'Map', 'Umbrella'] }
            ];

            // Quest Functions
            function loadQuests() {
                const completedQuests = DB.get('completedQuests');
                
                Object.keys(QUESTS).forEach(category => {
                    QUESTS[category].forEach(quest => {
                        if (!completedQuests.includes(quest.id)) {
                            const progress = quest.checkProgress();
                            if (progress >= quest.requirement) {
                                completeQuest(quest);
                            }
                        }
                    });
                });
                
                displayDailyQuests();
                displayWeeklyQuests();
                displayLocationQuests();
                displayLifetimeQuests();
                displayCompletedQuests();
                displayCertificateGallery();
            }

            function completeQuest(quest) {
                const completedQuests = DB.get('completedQuests');
                
                if (!completedQuests.includes(quest.id)) {
                    completedQuests.push(quest.id);
                    DB.set('completedQuests', completedQuests);
                    
                    const profile = DB.getProfile();
                    const certificate = {
                        id: 'CERT-' + Math.random().toString(36).substr(2, 9).toUpperCase(),
                        questId: quest.id,
                        questName: quest.name,
                        travelerName: profile.name || 'Traveler',
                        date: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
                        reward: quest.reward,
                        tier: quest.tier,
                        description: quest.description
                    };
                    
                    const certificates = DB.get('certificates');
                    certificates.push(certificate);
                    DB.set('certificates', certificates);
                    
                    showNotification(`üéâ Quest Complete!`, `Earned: ${quest.reward}`);
                }
            }

            function displayDailyQuests() {
                const container = document.getElementById('dailyQuests');
                const completed = DB.get('completedQuests');
                container.innerHTML = QUESTS.daily
                    .filter(q => !completed.includes(q.id))
                    .map(createQuestHTML).join('');
            }

            function displayWeeklyQuests() {
                const container = document.getElementById('weeklyQuests');
                const completed = DB.get('completedQuests');
                container.innerHTML = QUESTS.weekly
                    .filter(q => !completed.includes(q.id))
                    .map(createQuestHTML).join('');
            }

            function displayLocationQuests() {
                const container = document.getElementById('locationQuests');
                const completed = DB.get('completedQuests');
                container.innerHTML = QUESTS.location
                    .filter(q => !completed.includes(q.id))
                    .map(createQuestHTML).join('');
            }

            function displayLifetimeQuests() {
                const container = document.getElementById('lifetimeQuests');
                const completed = DB.get('completedQuests');
                container.innerHTML = QUESTS.lifetime
                    .filter(q => !completed.includes(q.id))
                    .map(createQuestHTML).join('');
            }

            function createQuestHTML(quest) {
                const progress = quest.checkProgress();
                const percentage = (progress / quest.requirement) * 100;
                
                return `
                    <div class="quest-card">
                        <div class="quest-header">
                            <span class="quest-name">${quest.name}</span>
                            <span class="quest-difficulty difficulty-${quest.difficulty.toLowerCase()}">
                                ${quest.difficulty === 'E' ? '‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ' : 
                                  quest.difficulty === 'N' ? '‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ' :
                                  quest.difficulty === 'H' ? '‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ' :
                                  quest.difficulty === 'Epic' ? '‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ' : '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'}
                            </span>
                        </div>
                        <div class="quest-description">${quest.description}</div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${percentage}%"></div>
                            </div>
                            <div class="progress-text">${progress}/${quest.requirement}</div>
                        </div>
                        <div class="quest-reward">
                            <i class="fas fa-certificate"></i>
                            ${quest.reward} (${quest.tier})
                        </div>
                    </div>
                `;
            }

            function displayCompletedQuests() {
                const container = document.getElementById('completedQuests');
                const completedIds = DB.get('completedQuests');
                const allQuests = [...QUESTS.daily, ...QUESTS.weekly, ...QUESTS.location, ...QUESTS.lifetime];
                const completed = allQuests.filter(q => completedIds.includes(q.id));
                
                if (completed.length === 0) {
                    container.innerHTML = '<div class="empty-state">No completed quests yet</div>';
                    return;
                }
                
                container.innerHTML = completed.map(q => `
                    <div class="certificate-item" onclick="showCertificate('${q.id}')">
                        <div class="certificate-title">‚úì ${q.name}</div>
                        <div class="certificate-meta">
                            <span>${q.reward}</span>
                            <span>${q.tier}</span>
                        </div>
                    </div>
                `).join('');
            }

            function displayCertificateGallery() {
                const container = document.getElementById('certificateGallery');
                const certificates = DB.get('certificates');
                
                if (certificates.length === 0) {
                    container.innerHTML = '<div class="empty-state">No certificates yet</div>';
                    return;
                }
                
                container.innerHTML = certificates.slice(-5).reverse().map(cert => `
                    <div class="certificate-item" onclick="viewCertificate('${cert.id}')">
                        <div class="certificate-title">üèÖ ${cert.reward}</div>
                        <div class="certificate-meta">
                            <span>${cert.date}</span>
                        </div>
                    </div>
                `).join('');
            }

            // Certificate Functions
            window.showCertificate = function(questId) {
                const allQuests = [...QUESTS.daily, ...QUESTS.weekly, ...QUESTS.location, ...QUESTS.lifetime];
                const quest = allQuests.find(q => q.id === questId);
                if (quest) {
                    const profile = DB.getProfile();
                    const certificate = {
                        id: 'CERT-' + Math.random().toString(36).substr(2, 9),
                        questName: quest.name,
                        travelerName: profile.name || 'Traveler',
                        date: new Date().toLocaleDateString(),
                        reward: quest.reward,
                        tier: quest.tier,
                        description: quest.description
                    };
                    viewCertificate(certificate.id);
                }
            };

            window.viewCertificate = function(certificateId) {
                const certificates = DB.get('certificates');
                const cert = certificates.find(c => c.id === certificateId);
                if (!cert) return;
                
                const modal = document.getElementById('certificateModal');
                const display = document.getElementById('certificateDisplay');
                
                display.className = `certificate ${cert.tier}`;
                display.innerHTML = `
                    <div class="certificate-header">
                        <h1>PHILIPPINE TOURISM BOARD</h1>
                        <h2>Certificate of Achievement</h2>
                    </div>
                    <div class="certificate-body">
                        <p>Presented to</p>
                        <div class="certificate-name">${cert.travelerName}</div>
                        <p>for completing the quest</p>
                        <h2 style="font-size: 1.5rem; margin: 10px 0;">"${cert.questName}"</h2>
                        <div class="certificate-details">
                            <p>${cert.description}</p>
                            <p>Date: ${cert.date}</p>
                            <p>Certificate ID: ${cert.id}</p>
                        </div>
                    </div>
                    <div class="certificate-footer">
                        <div>
                            <p>____________________</p>
                            <p>Secretary of Tourism</p>
                        </div>
                        <div class="certificate-stamp">
                            <i class="fas fa-stamp"></i> OFFICIAL SEAL
                        </div>
                    </div>
                    <div class="certificate-actions">
                        <button onclick="downloadCertificate('${cert.id}')">Download</button>
                        <button onclick="closeCertificate()">Close</button>
                    </div>
                `;
                
                modal.classList.add('active');
            };

            window.closeCertificate = function() {
                document.getElementById('certificateModal').classList.remove('active');
            };

            window.downloadCertificate = function(certificateId) {
                const certificates = DB.get('certificates');
                const cert = certificates.find(c => c.id === certificateId);
                if (!cert) return;
                
                const html = `
                    <html><head><title>Certificate</title>
                    <style>body{font-family:'Times New Roman',serif;padding:40px;text-align:center}
                    .certificate{border:10px solid ${cert.tier};padding:40px}
                    h1{color:#8b4513} h2{font-family:'Brush Script MT',cursive;color:#d4af37}
                    .name{font-size:2.5rem;font-family:'Brush Script MT',cursive;margin:20px}</style>
                    <body><div class="certificate">
                    <h1>PHILIPPINE TOURISM BOARD</h1><h2>Certificate of Achievement</h2>
                    <p>Presented to</p><div class="name">${cert.travelerName}</div>
                    <p>for completing "${cert.questName}"</p><p>${cert.date}</p>
                    <p>ID: ${cert.id}</p></div></body></html>
                `;
                
                const blob = new Blob([html], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `certificate_${cert.id}.html`;
                a.click();
                URL.revokeObjectURL(url);
            };

            // Tab Switching
            function switchTab(tabName) {
                document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                
                document.getElementById(tabName).classList.add('active');
                document.querySelector(`.nav-btn[data-tab="${tabName}"]`).classList.add('active');
                
                // Load tab content
                switch(tabName) {
                    case 'quests': loadQuests(); break;
                    case 'schedules': loadSchedules(); break;
                    case 'goals': loadGoals(); break;
                    case 'timeline': loadTimeline(); break;
                    case 'calendar': loadCalendar(); break;
                    case 'packing': loadPacking(); loadPackingTemplates(); break;
                    case 'journal': loadJournal(); break;
                    case 'tourist-spots': loadTouristSpots(); break;
                    case 'budget': loadBudget(); break;
                    case 'profile': loadProfile(); break;
                }
            }

            // Load Functions
            function loadSchedules() {
                const schedules = DB.getSchedules();
                const container = document.getElementById('schedules-list');
                
                if (schedules.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-calendar-alt"></i><p>No schedules yet</p></div>';
                    return;
                }
                
                schedules.sort((a, b) => new Date(a.date) - new Date(b.date));
                
                container.innerHTML = schedules.map(s => `
                    <div class="item ${s.priority}-priority">
                        <h3>${s.title} <span style="font-size:0.7rem;background:${s.priority==='high'?'#ff003c':s.priority==='medium'?'#ffdd00':'#00ff88'};color:#000;padding:2px 6px;border-radius:3px">${s.priority}</span></h3>
                        <p>${s.notes || ''}</p>
                        <div class="meta">
                            <span>üìÖ ${formatDate(s.date)}</span>
                            <span>‚è∞ ${s.time} (${s.duration}min)</span>
                            ${s.location ? `<span>üìç ${s.location}</span>` : ''}
                        </div>
                        <button class="delete-btn" onclick="deleteSchedule('${s.id}')">Delete</button>
                    </div>
                `).join('');
            }

            function loadGoals() {
                const goals = DB.getGoals();
                const container = document.getElementById('goals-list');
                
                if (goals.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-bullseye"></i><p>No goals yet</p></div>';
                    return;
                }
                
                container.innerHTML = goals.map(g => `
                    <div class="item ${g.priority}-priority">
                        <h3>${g.title}</h3>
                        <p>${g.notes || ''}</p>
                        <div class="meta">
                            <span>üéØ ${formatDate(g.deadline)}</span>
                            <span>${g.completed ? '‚úÖ Completed' : '‚è≥ In Progress'}</span>
                        </div>
                        <button class="delete-btn" onclick="deleteGoal('${g.id}')">Delete</button>
                        <button class="delete-btn" style="background:${g.completed?'#ffdd00':'#00ff88'}" onclick="toggleGoal('${g.id}')">
                            ${g.completed ? 'Mark Incomplete' : 'Mark Complete'}
                        </button>
                    </div>
                `).join('');
            }

            function loadTimeline() {
                const schedules = DB.getSchedules();
                const goals = DB.getGoals();
                const container = document.getElementById('timeline-list');
                
                const items = [
                    ...schedules.map(s => ({ ...s, type: 'schedule', date: s.date })),
                    ...goals.map(g => ({ ...g, type: 'goal', date: g.deadline }))
                ].sort((a, b) => new Date(a.date) - new Date(b.date));
                
                if (items.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-stream"></i><p>Timeline empty</p></div>';
                    return;
                }
                
                container.innerHTML = items.map(item => `
                    <div class="timeline-item">
                        <div class="timeline-date">${formatDate(item.date)} 
                            <span style="background:${item.type==='schedule'?'#00b4d8':'#0077b6'};color:#fff;padding:2px 6px;border-radius:3px;font-size:0.7rem">${item.type}</span>
                        </div>
                        <h3>${item.title}</h3>
                        <p>${item.notes || ''}</p>
                    </div>
                `).join('');
            }

            function loadCalendar() {
                const schedules = DB.getSchedules();
                const container = document.getElementById('calendar-view');
                const now = new Date();
                const year = now.getFullYear();
                const month = now.getMonth();
                
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                
                let html = `<div style="grid-column:1/-1;text-align:center;margin-bottom:5px">${new Date(year,month).toLocaleString('default',{month:'long'})} ${year}</div>`;
                
                ['S','M','T','W','T','F','S'].forEach(d => html += `<div style="text-align:center;font-weight:bold">${d}</div>`);
                
                for (let i = 0; i < firstDay.getDay(); i++) html += '<div class="calendar-day"></div>';
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateStr = `${year}-${(month+1).toString().padStart(2,'0')}-${day.toString().padStart(2,'0')}`;
                    const hasEvent = schedules.some(s => s.date === dateStr);
                    const isToday = now.getDate() === day && now.getMonth() === month;
                    
                    html += `<div class="calendar-day ${isToday ? 'active' : ''} ${hasEvent ? 'has-event' : ''}">${day}</div>`;
                }
                
                container.innerHTML = html;
            }

            function loadPacking() {
                const packing = DB.getPacking();
                const container = document.getElementById('packing-list');
                
                if (packing.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-suitcase"></i><p>No items yet</p></div>';
                    return;
                }
                
                const categories = {};
                packing.forEach(item => {
                    if (!categories[item.category]) categories[item.category] = [];
                    categories[item.category].push(item);
                });
                
                container.innerHTML = '';
                Object.keys(categories).forEach(cat => {
                    container.innerHTML += `<h3 style="margin:10px 0;color:var(--hacker-cyan)">${cat.toUpperCase()}</h3>`;
                    categories[cat].forEach(item => {
                        container.innerHTML += `
                            <div style="display:flex;align-items:center;margin-bottom:8px;padding:8px;background:var(--bg-card);border-radius:8px">
                                <input type="checkbox" id="pack-${item.id}" ${item.checked ? 'checked' : ''} onchange="togglePacking('${item.id}')" style="margin-right:10px">
                                <label for="pack-${item.id}" style="${item.checked ? 'text-decoration:line-through;opacity:0.7' : ''};flex:1">${item.item}</label>
                                <button class="delete-btn" style="padding:4px 8px" onclick="deletePacking('${item.id}')">√ó</button>
                            </div>
                        `;
                    });
                });
            }

            function loadPackingTemplates() {
                const container = document.getElementById('packing-templates');
                container.innerHTML = PACKING_TEMPLATES.map(t => `
                    <div class="packing-template" onclick="applyTemplate('${t.name}')">
                        <h3 style="color:var(--hacker-cyan)">${t.name}</h3>
                        <p style="font-size:0.8rem">${t.items.length} items</p>
                    </div>
                `).join('');
            }

            window.applyTemplate = function(templateName) {
                const template = PACKING_TEMPLATES.find(t => t.name === templateName);
                if (template && confirm(`Add ${template.items.length} items?`)) {
                    template.items.forEach(item => {
                        DB.savePacking({ item, category: 'essentials' });
                    });
                    loadPacking();
                    showNotification('Success!', 'Template applied');
                }
            };

            function loadJournal() {
                const journal = DB.getJournal();
                const container = document.getElementById('journal-list');
                
                if (journal.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-book"></i><p>No entries yet</p></div>';
                    return;
                }
                
                journal.sort((a, b) => new Date(b.date) - new Date(a.date));
                const moods = { happy:'üòä', neutral:'üòê', sad:'üòî', excited:'ü§©', tired:'üò¥' };
                
                container.innerHTML = journal.map(e => `
                    <div class="journal-entry" style="background:var(--bg-card);border-radius:10px;padding:12px;margin-bottom:10px">
                        <div class="journal-date" style="color:var(--hacker-cyan);font-weight:bold">${formatDate(e.date)} ${moods[e.mood]}</div>
                        <h3>${e.title}</h3>
                        <p>${e.entry}</p>
                        <button class="delete-btn" onclick="deleteJournal('${e.id}')">Delete</button>
                    </div>
                `).join('');
            }

            function loadTouristSpots() {
                const search = document.getElementById('spot-search').value.toLowerCase();
                const activeRegion = document.querySelector('.region-btn.active')?.dataset.region || 'all';
                
                const filtered = TOURIST_SPOTS.filter(spot => {
                    const matchesSearch = !search || spot.name.toLowerCase().includes(search) || spot.location.toLowerCase().includes(search);
                    const matchesRegion = activeRegion === 'all' || spot.region === activeRegion || spot.category.includes(activeRegion);
                    return matchesSearch && matchesRegion;
                });
                
                const container = document.getElementById('tourist-spots-list');
                
                if (filtered.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-map-marked-alt"></i><p>No spots found</p></div>';
                    return;
                }
                
                container.innerHTML = filtered.map(spot => `
                    <div class="spot-card">
                        <div class="spot-image" style="background-image:url('${spot.image}')">
                            <div class="spot-overlay">
                                <h3 class="spot-title">${spot.name}</h3>
                                <div class="spot-stats">‚≠ê ${spot.rating} | üìç ${spot.location}</div>
                            </div>
                        </div>
                        <div class="spot-content">
                            <p class="spot-description">${spot.description}</p>
                            <div class="spot-details">
                                <span class="spot-tag">üìÖ ${spot.bestTime}</span>
                                <span class="spot-tag">${spot.category.map(c => c.toUpperCase()).join(' ¬∑ ')}</span>
                            </div>
                            <div class="spot-actions">
                                <button class="add-to-plan-btn" onclick="addSpotToPlan('${spot.id}')">Add to Plan</button>
                                <button class="view-more-btn" onclick="viewSpotDetails('${spot.id}')">Details</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            window.addSpotToPlan = function(spotId) {
                const spot = TOURIST_SPOTS.find(s => s.id === spotId);
                if (!spot) return;
                
                const date = prompt('Target date (YYYY-MM-DD):', new Date(Date.now()+30*24*60*60*1000).toISOString().split('T')[0]);
                if (!date) return;
                
                DB.saveGoal({
                    title: `Visit ${spot.name}`,
                    category: 'travel',
                    deadline: date,
                    priority: 'medium',
                    location: spot.location,
                    notes: `Destination: ${spot.name}\nBest time: ${spot.bestTime}`
                });
                
                showNotification('Success!', 'Added to goals');
                setTimeout(() => switchTab('goals'), 500);
            };

            window.viewSpotDetails = function(spotId) {
                const spot = TOURIST_SPOTS.find(s => s.id === spotId);
                alert(`${spot.name}\nüìç ${spot.location}\n‚≠ê ${spot.rating}\nüìÖ Best: ${spot.bestTime}\n\n${spot.description}`);
            };

            function loadBudget() {
                const budget = DB.getBudget();
                const container = document.getElementById('budget-list');
                const totalContainer = document.getElementById('budget-total');
                
                if (budget.length === 0) {
                    container.innerHTML = '<div class="empty-state"><i class="fas fa-coins"></i><p>No expenses yet</p></div>';
                    totalContainer.innerHTML = 'TOTAL: ‚Ç±0.00';
                    return;
                }
                
                const categories = {};
                let total = 0;
                
                budget.forEach(item => {
                    if (!categories[item.category]) categories[item.category] = [];
                    categories[item.category].push(item);
                    total += item.amount;
                });
                
                container.innerHTML = '';
                Object.keys(categories).forEach(cat => {
                    const catTotal = categories[cat].reduce((sum,i) => sum + i.amount, 0);
                    container.innerHTML += `
                        <div class="budget-category">
                            <h3 style="color:var(--hacker-cyan)">${cat.toUpperCase()} <span style="float:right">‚Ç±${catTotal.toFixed(2)}</span></h3>
                            ${categories[cat].map(i => `
                                <div style="display:flex;justify-content:space-between;padding:5px 0">
                                    <span>${i.notes || 'No description'}</span>
                                    <span>‚Ç±${i.amount.toFixed(2)}</span>
                                    <button class="delete-btn" style="padding:2px 6px" onclick="deleteBudget('${i.id}')">√ó</button>
                                </div>
                            `).join('')}
                        </div>
                    `;
                });
                
                totalContainer.innerHTML = `TOTAL: ‚Ç±${total.toFixed(2)}`;
            }

            function loadProfile() {
                const profile = DB.getProfile();
                if (!profile) return;
                
                document.getElementById('profile-name').value = profile.name || '';
                document.getElementById('profile-username').value = profile.username || '';
                document.getElementById('profile-birthday').value = profile.birthday || '';
                document.getElementById('profile-email').value = profile.email || '';
                document.getElementById('profile-location').value = profile.location || '';
                document.getElementById('profile-title').value = profile.title || 'Adventure Seeker';
                document.getElementById('profile-bio').value = profile.bio || '';
                
                document.getElementById('profile-name-display').textContent = profile.name || 'TRAVELER';
                document.getElementById('profile-title-display').textContent = profile.title || 'Adventure Seeker';
            }

            // Currency Converter
            window.convertCurrency = function() {
                const amount = parseFloat(document.getElementById('amount-input').value);
                const from = document.getElementById('from-currency').value;
                const to = document.getElementById('to-currency').value;
                
                if (isNaN(amount)) {
                    showNotification('Error', 'Enter a valid amount');
                    return;
                }
                
                const inPHP = amount * EXCHANGE_RATES[from];
                const converted = inPHP / EXCHANGE_RATES[to];
                
                document.getElementById('converted-amount').value = converted.toFixed(2);
                document.getElementById('conversion-result').innerHTML = 
                    `${amount} ${from} = ${converted.toFixed(2)} ${to}`;
            };

            // Form Handlers
            document.getElementById('schedule-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.saveSchedule({
                    title: document.getElementById('schedule-title').value,
                    date: document.getElementById('schedule-date').value,
                    time: document.getElementById('schedule-time').value,
                    duration: document.getElementById('schedule-duration').value,
                    location: document.getElementById('schedule-location').value,
                    priority: document.getElementById('schedule-priority').value,
                    notes: document.getElementById('schedule-notes').value
                });
                loadSchedules();
                loadQuests();
                e.target.reset();
                showNotification('Success!', 'Schedule added');
            });

            document.getElementById('goal-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.saveGoal({
                    title: document.getElementById('goal-title').value,
                    category: document.getElementById('goal-category').value,
                    deadline: document.getElementById('goal-deadline').value,
                    priority: document.getElementById('goal-priority').value,
                    location: document.getElementById('goal-location').value,
                    notes: document.getElementById('goal-notes').value
                });
                loadGoals();
                loadQuests();
                e.target.reset();
                showNotification('Success!', 'Goal added');
            });

            document.getElementById('packing-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.savePacking({
                    item: document.getElementById('packing-item').value,
                    category: document.getElementById('packing-category').value
                });
                loadPacking();
                e.target.reset();
                showNotification('Success!', 'Item added');
            });

            document.getElementById('journal-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.saveJournal({
                    date: document.getElementById('journal-date').value,
                    title: document.getElementById('journal-title').value,
                    mood: document.getElementById('journal-mood').value,
                    entry: document.getElementById('journal-entry').value
                });
                loadJournal();
                loadQuests();
                e.target.reset();
                showNotification('Success!', 'Journal saved');
            });

            document.getElementById('budget-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.saveBudget({
                    category: document.getElementById('budget-category').value,
                    amount: parseFloat(document.getElementById('budget-amount').value),
                    notes: document.getElementById('budget-notes').value
                });
                loadBudget();
                e.target.reset();
                showNotification('Success!', 'Expense added');
            });

            document.getElementById('profile-form').addEventListener('submit', (e) => {
                e.preventDefault();
                DB.saveProfile({
                    name: document.getElementById('profile-name').value,
                    username: document.getElementById('profile-username').value,
                    birthday: document.getElementById('profile-birthday').value,
                    email: document.getElementById('profile-email').value,
                    location: document.getElementById('profile-location').value,
                    title: document.getElementById('profile-title').value,
                    bio: document.getElementById('profile-bio').value
                });
                loadProfile();
                showNotification('Success!', 'Profile saved');
            });

            // Mood Selector
            document.querySelectorAll('.mood-option').forEach(opt => {
                opt.addEventListener('click', function() {
                    document.querySelectorAll('.mood-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('journal-mood').value = this.dataset.mood;
                });
            });

            // Search and Filters
            document.getElementById('spot-search').addEventListener('input', loadTouristSpots);
            document.querySelectorAll('.region-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.region-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    loadTouristSpots();
                });
            });

            // Delete Functions
            window.deleteSchedule = (id) => { if(confirm('Delete?')) { DB.deleteSchedule(id); loadSchedules(); loadQuests(); } };
            window.deleteGoal = (id) => { if(confirm('Delete?')) { DB.deleteGoal(id); loadGoals(); loadQuests(); } };
            window.toggleGoal = (id) => { DB.toggleGoal(id); loadGoals(); loadQuests(); };
            window.deletePacking = (id) => { if(confirm('Delete?')) { DB.deletePacking(id); loadPacking(); } };
            window.togglePacking = (id) => { DB.togglePacking(id); loadPacking(); };
            window.deleteJournal = (id) => { if(confirm('Delete?')) { DB.deleteJournal(id); loadJournal(); loadQuests(); } };
            window.deleteBudget = (id) => { if(confirm('Delete?')) { DB.deleteBudget(id); loadBudget(); } };

            // Navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });

            // Helper Functions
            function formatDate(date) {
                return new Date(date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            }

            function showNotification(title, msg) {
                const notif = document.getElementById('questNotification');
                notif.innerHTML = `<strong>${title}</strong><br>${msg}`;
                notif.style.display = 'block';
                setTimeout(() => notif.style.display = 'none', 3000);
            }

            // Set default dates
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('schedule-date').value = today;
            document.getElementById('goal-deadline').value = today;
            document.getElementById('journal-date').value = today;

            // Initialize
            DB.init();
            loadQuests();
            loadSchedules();
            loadGoals();
            loadProfile();
        })();
    </script>
</body>
</html>
